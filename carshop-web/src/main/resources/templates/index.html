<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@200;300;400;600;700&display=swap"
          rel="stylesheet">
    <link th:href="@{resources/css/styles.css}"
          href="../static/resources/css/styles.css" rel="stylesheet" type="text/css">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="shortcut icon" href="img/favicon.png" th:href="@{/resources/images/favicon.jpg}" type="img/jpg">
    <title>UniCar - Автосалон</title>
</head>
<body>
<header>
    <div class="wrap">
        <section class="top-bar">
            <section class="top-bar-section">
                <div class="top-bar-inner">
                    <img class="top-bar-icon" src="../static/resources/images/icons/email.png"
                         th:src="@{resources/images/icons/email.png}">
                    <p class="top-bar-section-text">uniloftsky@gmail.com</p>
                </div>
                <div class="top-bar-inner">
                    <img class="top-bar-icon" src="../static/resources/images/icons/four-oclock.png"
                         th:src="@{resources/images/icons/four-oclock.png}">
                    <p class="top-bar-section-text" th:text="${currentDate}">20.12.2002 02:00 AM</p>
                </div>
            </section>
            <section class="top-bar-section">
                <div class="top-bar-inner">
                    <img class="top-bar-icon" src="../static/resources/images/icons/phone-call.png"
                         th:src="@{resources/images/icons/phone-call.png}">
                    <p class="top-bar-section-text">(097)127-93-32</p>
                </div>
            </section>
        </section>
    </div>
</header>
<main>
    <div class="wrap">

        <section class="logo-block">
            <img class="logo-img" src="../static/resources/images/logo.png" th:src="@{resources/images/logo.png}">
        </section>

        <nav>
            <ul>
                <li><a href="#">Головна</a></li>
                <li><a href="#">Купити авто</a></li>
                <li><a href="#">Тест-драйв авто</a></li>
                <li><a href="#">Про нас</a></li>
                <li><a href="#" th:href="@{'customers'}">Форма клієнтів</a></li>
                <li><a href="#" th:href="@{'cartypes'}">Форма типів</a></li>
            </ul>
        </nav>

    </div>
    <div class="slider">
        <div class="slider__wrapper">
            <div class="slider__item">
                <div class="slider__item-inner" style="background: red;">
                    <div class="wrap">
                        <div class="slider__item-content">
                            <p>Сучасні автомобілі</p>
                            <a class="slider-btn" href="#">Перейти</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="slider__item">
                <div class="slider__item-inner" style="background: green;">
                    <div class="wrap">
                        <div class="slider__item-content">
                            <p>Сучасні автомобілі</p>
                            <a class="slider-btn" href="#">Перейти</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="slider__item">
                <div class="slider__item-inner" style="background: violet;">
                    <div class="wrap">
                        <div class="slider__item-content">
                            <p>Сучасні автомобілі</p>
                            <a class="slider-btn" href="#">Перейти</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="slider__item">
                <div class="slider__item-inner" style="background: coral;">
                    <div class="wrap">
                        <div class="slider__item-content">
                            <p>Сучасні автомобілі</p>
                            <a class="slider-btn" href="#">Перейти</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <a class="slider__control slider__control_left" href="#" role="button"></a>
        <a class="slider__control slider__control_right slider__control_show" href="#" role="button"></a>
    </div>

    <div class="wrap">
        <section class="features-section">
            <div class="feature">
                <div class="feature-icon">
                    <i class="fa fa-car"></i>
                </div>
                <p>New Vehicles</p>
            </div>
            <div class="feature">
                <div class="feature-icon">
                    <i class="fa fa-tag"></i>
                </div>
                <p>Special offers</p>
            </div>
            <div class="feature">
                <div class="feature-icon">
                    <i class="fa fa-wrench"></i>
                </div>
                <p>Vehicle service</p>
            </div>
            <div class="feature">
                <div class="feature-icon">
                    <i class="fa fa-phone"></i>
                </div>
                <p>Contact us</p>
            </div>
        </section>

        <section class="intro-section">
            <div class="intro-img-block">
                <img class="intro-img" src="../static/resources/images/car.jpg" th:src="@{resources/images/car.jpg}">
            </div>
            <div class="intro-content">
                <h4 class="intro-content-title">Find your dream car</h4>
                <p class="intro-content-subtitle">Everything you need to build an amazing dealership website</p>
                <p class="intro-content-main">Suitable for any car dealer websites, business or corporate websites.
                    The Theme has been Created especially for Automotive Dealers,
                    car resellers, car service stations, mechanic workshop and auto motor retailers. mechanic workshop and auto motor retailers.mechanic workshop and auto motor retailers.</p>
            </div>
        </section>
    </div>
    <section class="parallax-window find_car-section" data-parallax="scroll" data-image-src="../static/resources/images/background-car.jpg" th:data-image-src="@{resources/images/background-car.jpg}">

    </section>
</main>
<footer>

    <p>footer</p>

</footer>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script type="text/javascript" src="../static/resources/js/parallax.js" th:src="@{resources/js/parallax.js}"></script>
<script>
    'use strict';
    var multiItemSlider = (function () {
        return function (selector, config) {
            var
                _mainElement = document.querySelector(selector), // основный элемент блока
                _sliderWrapper = _mainElement.querySelector('.slider__wrapper'), // обертка для .slider-item
                _sliderItems = _mainElement.querySelectorAll('.slider__item'), // элементы (.slider-item)
                _sliderControls = _mainElement.querySelectorAll('.slider__control'), // элементы управления
                _sliderControlLeft = _mainElement.querySelector('.slider__control_left'), // кнопка "LEFT"
                _sliderControlRight = _mainElement.querySelector('.slider__control_right'), // кнопка "RIGHT"
                _wrapperWidth = parseFloat(getComputedStyle(_sliderWrapper).width), // ширина обёртки
                _itemWidth = parseFloat(getComputedStyle(_sliderItems[0]).width), // ширина одного элемента
                _positionLeftItem = 0, // позиция левого активного элемента
                _transform = 0, // значение транфсофрмации .slider_wrapper
                _step = _itemWidth / _wrapperWidth * 100, // величина шага (для трансформации)
                _items = []; // массив элементов
            // наполнение массива _items
            _sliderItems.forEach(function (item, index) {
                _items.push({item: item, position: index, transform: 0});
            });

            var position = {
                getMin: 0,
                getMax: _items.length - 1,
            }

            var _transformItem = function (direction) {
                if (direction === 'right') {
                    if ((_positionLeftItem + _wrapperWidth / _itemWidth - 1) >= position.getMax) {
                        return;
                    }
                    if (!_sliderControlLeft.classList.contains('slider__control_show')) {
                        _sliderControlLeft.classList.add('slider__control_show');
                    }
                    if (_sliderControlRight.classList.contains('slider__control_show') && (_positionLeftItem + _wrapperWidth / _itemWidth) >= position.getMax) {
                        _sliderControlRight.classList.remove('slider__control_show');
                    }
                    _positionLeftItem++;
                    _transform -= _step;
                }
                if (direction === 'left') {
                    if (_positionLeftItem <= position.getMin) {
                        return;
                    }
                    if (!_sliderControlRight.classList.contains('slider__control_show')) {
                        _sliderControlRight.classList.add('slider__control_show');
                    }
                    if (_sliderControlLeft.classList.contains('slider__control_show') && _positionLeftItem - 1 <= position.getMin) {
                        _sliderControlLeft.classList.remove('slider__control_show');
                    }
                    _positionLeftItem--;
                    _transform += _step;
                }
                _sliderWrapper.style.transform = 'translateX(' + _transform + '%)';
            }

            // обработчик события click для кнопок "назад" и "вперед"
            var _controlClick = function (e) {
                if (e.target.classList.contains('slider__control')) {
                    e.preventDefault();
                    var direction = e.target.classList.contains('slider__control_right') ? 'right' : 'left';
                    _transformItem(direction);
                }
            };

            var _setUpListeners = function () {
                // добавление к кнопкам "назад" и "вперед" обрботчика _controlClick для событя click
                _sliderControls.forEach(function (item) {
                    item.addEventListener('click', _controlClick);
                });
            }

            // инициализация
            _setUpListeners();

            return {
                right: function () { // метод right
                    _transformItem('right');
                },
                left: function () { // метод left
                    _transformItem('left');
                }
            }

        }
    }());

    var slider = multiItemSlider('.slider')

</script>
</body>
</html>